<!-- 字段组件 -->
<template id="cselect">
    <!--layerPage-->
    <!--需要用js赋值一下，没有绑定。不知道为啥-->
    <select v-model="value" data-am-selected="{searchBox: 1}" ref="mySelect" style="display: none;"> 
        <option value="" >请选择</option> 
        <option v-for="(tmpOption,k) in option" v-bind:value="k">{{tmpOption}}</option> 
    </select>
</template>

<script>
    //定义hblock组件
    Vue.component('cselect', {
        props: { value : String, option : Array },
        template: '#cselect',
        data: function(){
            return {
            };
        },
        methods : {
            
        },
        created :function(){
            //重新渲染树状
            var that = this;
            that.$nextTick(function () {
                $( that.$refs.mySelect ).change(function( ){
                    var tmpValue = $( that.$refs.mySelect )[0].value;
                    that.$emit('input', tmpValue);
                });
            });
        }
    });
</script>
