<!-- 字段组件 -->
<template id="cselect">
    <!--layerPage-->
    <!--需要用js赋值一下，没有绑定。不知道为啥-->
    <select v-model="value" ref="mySelect" style="display: none;width:100%;" v-bind:disabled ="is_detail == 1"> 
        <option value="" >请选择</option> 
        <option v-for="(tmpOption,k) in option" v-bind:value="k">{{tmpOption}}</option> 
    </select>
</template>

<script>
    //定义hblock组件
    Vue.component('cselect', {
        props: { value : String, option : Array ,is_detail : String},
        template: '#cselect',
        created :function(){
            //重新渲染树状
            var that = this;
            that.$nextTick(function () {
                $( that.$refs.mySelect ).select2();
                $(that.$refs.mySelect).on("select2:select",function(e){
                    that.$emit('input', e.target.value );
                })
            });
        }
    });
</script>
